<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>
<style>
    body{
        background-image: linear-gradient(#10084d, #08013e);
        color: white;
        background-attachment: fixed;
    }
    table{
        width: 90%;
        margin: 0 auto;
    }
    th{
        border: solid white 1px;
    }
    td{
        border-left: solid white 1px;
        border-right: solid white 1px;
    }
    tbody:last-child{
        border-bottom: solid white 1px;
    }
    #backButton:hover{
        cursor: pointer;
    }
</style>
<body>
<div class="text-left">
    <h5 id="backButton" style="padding-left: 2%; padding-top: 1%">Back</h5>
</div>
<div class="text-center">
    <h1>Admin Page</h1>
</div>
<br/>
<div class="text-left">
    <h3 style="padding-left: 5%">Reported Users</h3>
</div>
<div class="text-center">
    <table>
        <thead>
        <tr>
            <th>Username</th>
            <th>Event details</th>
            <th>Reported on</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="report : ${reportedUsers}">
            <td th:text="${report.getReportedUser().getUsername()}"></td>
            <td th:text="${report.getEventId()}"></td>
            <td th:text="${report.getDate().toString()}"></td>
            <td>
                <a th:href="@{~/admin/ban/{username}(username=${report.getReportedUser().getUsername()})}">Ban</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<script>
    $("#backButton").click(function(){
        window.location = "/";
    });
    function post(params, path='admin/ban', method='post') {

        // The rest of this code assumes you are not using a library.
        // It can be made less verbose if you use one.
        const form = document.createElement('form');
        form.method = method;
        form.action = path;

        for (const key in params) {
            if (params.hasOwnProperty(key)) {
                const hiddenField = document.createElement('input');
                hiddenField.type = 'hidden';
                hiddenField.name = key;
                hiddenField.value = params[key];

                form.appendChild(hiddenField);
            }
        }

        document.body.appendChild(form);
        form.submit();
    }
</script>
</html>